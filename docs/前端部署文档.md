# Naimo 前端项目部署文档

## 项目概述

这是一个基于 Vue 3 + TypeScript + Vite 的现代化前端项目，集成了多种开发工具和插件来提升开发体验。

## 技术栈

- **框架**: Vue 3.5.18
- **构建工具**: Vite 7.1.2
- **语言**: TypeScript 5.8.3
- **样式**: TailwindCSS 4.1.13 + Sass
- **状态管理**: Pinia 3.0.3
- **路由**: Vue Router 4.5.1
- **工具库**: @vueuse/core 13.9.0, lodash-es 4.17.21
- **图标**: unplugin-icons + @iconify-json/mdi

## 初始化项目

```bash
# 创建 Vue + TypeScript 项目
pnpm create vite my-vue-app --template vue-ts

# 进入项目目录
cd my-vue-app

# 安装依赖
pnpm install
```

## 核心功能配置

### 1. TailwindCSS 配置

安装 TailwindCSS v4 版本：

```bash
pnpm add tailwindcss @tailwindcss/vite -D
```

在 `vite.config.ts` 中配置：

```typescript
import { defineConfig } from "vite";
import Tailwindcss from "@tailwindcss/vite";

export default defineConfig({
  plugins: [Tailwindcss()],
});
```

在 `src/style.css` 中引入：

```css
@import "tailwindcss";
```

### 2. Sass 预处理器支持

```bash
# 安装 Sass 预处理器
pnpm add -D sass-embedded
```

在 Vue 组件中使用：

```vue
<style scoped>
/** 必须引入 */
@reference "@/style.css";
div {
  h1 {
    @apply text-3xl font-bold underline bg-amber-600;
  }
}
</style>
```

### 3. 自动导入配置

#### API 自动导入

使用 `unplugin-auto-import` 实现 Vue、Vue Router、Pinia、VueUse 等 API 的自动导入：

```bash
pnpm add -D unplugin-auto-import
```

配置 `vite.config.ts`：

```typescript
import AutoImport from "unplugin-auto-import/vite";

export default defineConfig({
  plugins: [
    AutoImport({
      imports: [
        "vue", // Vue 3 APIs
        "vue-router", // Vue Router APIs
        "pinia", // Pinia APIs
        "@vueuse/core", // VueUse APIs
      ],
      dts: "./typings/auto-imports.d.ts", // 生成类型定义文件
    }),
  ],
});
```

**自动导入的 API 包括**：

- **Vue**: `ref`, `reactive`, `computed`, `watch`, `onMounted`, `nextTick` 等
- **Vue Router**: `useRoute`, `useRouter`, `onBeforeRouteLeave` 等
- **Pinia**: `defineStore`, `storeToRefs`, `acceptHMRUpdate` 等
- **VueUse**: `useMouse`, `useLocalStorage`, `useClipboard`, `useDark` 等 200+ 工具函数

#### 组件自动导入

使用 `unplugin-vue-components` 实现组件的自动导入：

```bash
pnpm add -D unplugin-vue-components
```

配置 `vite.config.ts`：

```typescript
import Components from "unplugin-vue-components/vite";

export default defineConfig({
  plugins: [
    Components({
      dirs: ["./src/components"], // 组件目录
      dts: "./typings/components.d.ts", // 生成类型定义文件
    }),
  ],
});
```

### 4. 图标系统配置

#### 安装图标相关依赖

```bash
pnpm add -D unplugin-icons
```

#### 配置图标插件

在 `vite.config.ts` 中配置：

```typescript
import Icons from "unplugin-icons/vite";
import IconsResolver from "unplugin-icons/resolver";
import Components from "unplugin-vue-components/vite";

export default defineConfig({
  plugins: [
    Icons({
      autoInstall: true, // 自动安装图标包
      compiler: "vue3", // Vue 3 编译器
    }),

    Components({
      resolvers: [
        IconsResolver({
          prefix: "icon", // 图标组件前缀
          enabledCollections: ["mdi"], // 启用的图标集合 他会自动的安装 @iconify-json/mdi
        }),
      ],
    }),
  ],
});
```

#### 图标使用方式

**方式一：直接使用（推荐）**

```vue
<template>
  <div>
    <!-- 使用 MDI 图标，格式：Icon + 集合名 + 图标名（驼峰命名） -->
    <IconMdiAccountCircleOutline class="v-icon" />
    <IconMdiAlarmBell class="v-icon" />
    <IconMdiHome class="v-icon" />
  </div>
</template>
```

**图标样式配置**：

```css
.v-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  font-size: 1em;
}

.v-icon > svg {
  width: 100%;
  height: 100%;
}
```

**图标查找**：

- 访问 https://icones.netlify.app/collection/mdi
- 搜索所需图标
- 复制图标名称，转换为驼峰命名法
- 添加前缀 `IconMdi`

### 5. 路径别名配置

在 `vite.config.ts` 中配置路径别名：

```typescript
import { resolve } from "path";

export default defineConfig({
  resolve: {
    alias: {
      "@": resolve(__dirname, "./src"),
    },
  },
});
```

### 6. 完整的 Vite 配置文件

```typescript
import { defineConfig } from "vite";
import { resolve } from "path";

import Vue from "@vitejs/plugin-vue";
import Icons from "unplugin-icons/vite";
import Tailwindcss from "@tailwindcss/vite";
import Components from "unplugin-vue-components/vite";
import IconsResolver from "unplugin-icons/resolver";
import AutoImport from "unplugin-auto-import/vite";

export default defineConfig({
  resolve: {
    alias: {
      "@": resolve(__dirname, "./src"),
    },
  },
  plugins: [
    Vue(),
    Tailwindcss(),

    // API 自动导入
    AutoImport({
      imports: ["vue", "vue-router", "pinia", "@vueuse/core"],
      dts: "./typings/auto-imports.d.ts",
    }),

    // 图标插件
    Icons({
      autoInstall: true,
      compiler: "vue3",
    }),

    // 组件自动导入
    Components({
      dirs: ["./src/components"],
      dts: "./typings/components.d.ts",
      resolvers: [
        IconsResolver({
          prefix: "icon",
          enabledCollections: ["mdi"],
        }),
      ],
    }),
  ],
});
```

## 开发规范

### 组件开发

```vue
<template>
  <div class="container">
    <!-- 无需导入，直接使用图标 -->
    <IconMdiHome class="v-icon" />

    <!-- 无需导入，直接使用自定义组件 -->
    <MyCustomComponent />
  </div>
</template>

<script setup lang="ts">
// 无需导入，直接使用 Vue APIs
const count = ref(0);
const router = useRouter();
const route = useRoute();

// 无需导入，直接使用 VueUse
const { copy } = useClipboard();
const isDark = useDark();

// 无需导入，直接使用 Pinia
const store = useMyStore();
</script>

<style scoped lang="scss">
.container {
  @apply flex items-center space-x-4;

  .v-icon {
    @apply text-blue-500 text-xl;
  }
}
</style>
```

### 状态管理

```typescript
// stores/user.ts
// 无需导入 defineStore
export const useUserStore = defineStore("user", () => {
  const user = ref(null);

  const login = async (credentials) => {
    // 登录逻辑
  };

  return { user, login };
});
```

## 项目结构

```
src/
├── components/          # 组件目录（自动导入）
├── stores/             # Pinia 状态管理
├── views/              # 页面组件
├── assets/             # 静态资源
├── style.css           # 全局样式
├── main.ts             # 入口文件
└── App.vue             # 根组件

typings/                # 类型定义文件（自动生成）
├── auto-imports.d.ts   # API 自动导入类型
├── components.d.ts     # 组件自动导入类型
└── vite-env.d.ts       # Vite 环境类型
```

## 开发命令

```bash
# 开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 预览构建结果
pnpm preview
```

## AI 开发规则提示

**重要提醒**：在使用此项目时，请注意以下自动化功能：

1. **API 无需导入**：Vue、Vue Router、Pinia、VueUse 的所有 API 都已配置自动导入
2. **组件无需导入**：`src/components` 目录下的组件会自动注册
3. **图标直接使用**：使用 `IconMdi{IconName}` 格式直接使用 MDI 图标
4. **类型安全**：所有自动导入都有完整的 TypeScript 类型支持

这样配置可以大大提升开发效率，减少重复的导入语句，让代码更加简洁。
